{
  "meta": {
    "configVersion": "1.0",
    "nodeId": "asr-node",
    "displayName": "ASRè¯­éŸ³è¯†åˆ«èŠ‚ç‚¹",
    "description": "è°ƒç”¨æœ¬åœ°ASR APIè¿›è¡Œè¯­éŸ³è½¬æ–‡å­—è¯†åˆ«",
    "author": "workflow-system",
    "version": "1.1.0",
    "tags": ["asr", "speech", "transcribe", "api"]
  },
  "node": {
    "type": "asr-node", 
    "label": "è¯­éŸ³è¯†åˆ«",
    "icon": "ğŸ™ï¸",
    "description": "å°†éŸ³é¢‘æ–‡ä»¶è½¬æ¢ä¸ºæ–‡å­—ï¼ˆæ”¯æŒä¸­è‹±æ—¥éŸ©ï¼‰",
    "category": "ai",
    "theme": "green"
  },
  "inputSchema": {
    "audioData": {
      "type": "File",
      "required": true,
      "description": "æ¥è‡ªå¤šåª’ä½“èŠ‚ç‚¹çš„éŸ³é¢‘Fileå¯¹è±¡"
    }
  },
  "outputSchema": {
    "transcription": {
      "type": "string",
      "description": "è¯­éŸ³è¯†åˆ«ç»“æœæ–‡æœ¬"
    },
    "confidence": {
      "type": "number",
      "description": "è¯†åˆ«ç½®ä¿¡åº¦ï¼ˆä»…JSONæ ¼å¼ï¼‰",
      "optional": true
    },
    "metadata": {
      "type": "object",
      "description": "è¯†åˆ«å…ƒæ•°æ®",
      "optional": true
    }
  },
  "fields": [
    {
      "name": "language",
      "type": "select",
      "label": "è¯†åˆ«è¯­è¨€",
      "defaultValue": "zh",
      "required": false,
      "options": [
        { "value": "zh", "label": "ä¸­æ–‡" },
        { "value": "en", "label": "è‹±è¯­" },
        { "value": "ja", "label": "æ—¥è¯­" },
        { "value": "ko", "label": "éŸ©è¯­" }
      ],
      "description": "é€‰æ‹©éŸ³é¢‘å†…å®¹çš„è¯­è¨€"
    },
    {
      "name": "format",
      "type": "select",
      "label": "è¾“å‡ºæ ¼å¼",
      "defaultValue": "txt",
      "required": false,
      "options": [
        { "value": "txt", "label": "çº¯æ–‡æœ¬æ ¼å¼" },
        { "value": "json", "label": "è¯¦ç»†JSONæ ¼å¼ï¼ˆå«ç½®ä¿¡åº¦ï¼‰" }
      ],
      "description": "é€‰æ‹©è¯†åˆ«ç»“æœçš„è¾“å‡ºæ ¼å¼"
    },
    {
      "name": "apiEndpoint",
      "type": "text",
      "label": "APIåœ°å€",
      "_originalValue": "http://localhost:8002/transcribe",
      "defaultValue": "https://asr-api.181901.xyz/transcribe",
      "required": false,
      "description": "ASRæœåŠ¡çš„APIç«¯ç‚¹åœ°å€"
    }
  ],
  "execution": {
    "type": "local",
    "handler": "asr_transcribe_handler",
    "timeout": 60,
    "retry": 1
  },
  "nodeUI": {
    "showPreview": true,
    "previewType": "text",
    "actions": [
      {
        "id": "transcribe",
        "label": "å¼€å§‹è¯†åˆ«", 
        "icon": "ğŸ™ï¸",
        "action": "execute",
        "condition": "hasAudioInput"
      },
      {
        "id": "test-connection",
        "label": "æµ‹è¯•è¿æ¥",
        "icon": "ğŸ”—",
        "action": "test",
        "condition": "always"
      }
    ]
  },
  "components": {
    "main": {
      "type": "dynamic",
      "fallback": "text-input"
    },
    "config": {
      "type": "dynamic",
      "fallback": null
    }
  },
  "data": {
    "defaultData": {
      "language": "zh",
      "format": "txt",
      "apiEndpoint": "http://localhost:8002/transcribe"
    },
    "validation": {
      "required": [],
      "rules": {
        "language": {
          "type": "string",
          "enum": ["zh", "en", "ja", "ko"]
        },
        "format": {
          "type": "string", 
          "enum": ["txt", "json"]
        },
        "apiEndpoint": {
          "type": "string",
          "pattern": "^https?://.+"
        }
      }
    }
  },
  "dependencies": {
    "apis": ["asr-service"],
    "libraries": [],
    "permissions": ["network-access"]
  }
}
